@import "./tokens/tokens.css";
@import "tailwindcss";

/* 1. Define custom dark variant for Tailwind v4 */
@custom-variant dark (&:where(.dark, .dark *));

/* 2. Semantic Variable Bridge 
   Maps your theme-light and theme-dark tokens to shared variables 
   so utilities like 'bg-background' switch automatically. */
:root {
  --background: var(--theme-light-background-default);
  --surface: var(--theme-light-background-surface);
  --text-primary: var(--theme-light-text-primary);
  --text-secondary: var(--theme-light-text-secondary);
  --border-main: var(--theme-light-border-default);
}

.dark {
  --background: var(--theme-dark-background-default);
  --surface: var(--theme-dark-background-surface);
  --text-primary: var(--theme-dark-text-primary);
  --text-secondary: var(--theme-dark-text-secondary);
  --border-main: var(--theme-dark-border-default);
}

/* 3. Tailwind CSS v4 @theme configuration */
@theme {
  /* --- Colors --- */
  /* Themed Colors (Dynamic) */
  --color-background: var(--background);
  --color-surface: var(--surface);
  --color-content-primary: var(--text-primary);
  --color-content-secondary: var(--text-secondary);
  --color-border: var(--border-main);

  /* Semantic Actions & Status (Constant) */
  --color-primary: var(--semantic-action-primary-default);
  --color-primary-hover: var(--semantic-action-primary-hover);
  --color-primary-text: var(--semantic-action-primary-text);
  --color-secondary: var(--semantic-action-secondary-default);
  --color-secondary-hover: var(--semantic-action-secondary-hover);

  --color-success: var(--semantic-status-success);
  --color-warning: var(--semantic-status-warning);
  --color-error: var(--semantic-status-error);
  --color-info: var(--semantic-status-info);

  /* Raw Palette (Optional access) */
  --color-amber-500: var(--color-amber-500);
  --color-indigo-500: var(--color-indigo-500);

  /* --- Typography Families --- */
  --font-sans: var(--typography-font-sans);
  --font-serif: var(--typography-font-serif);
  --font-mono: var(--typography-font-mono);

  /* --- Typography Sizes --- */
  /* Custom Heading Utilities (Usage: text-h1, text-h2) */
  --text-h1: var(--typography-heading-h1-font-size);
  --text-h2: var(--typography-heading-h2-font-size);
  --text-h3: var(--typography-heading-h3-font-size);
  --text-h4: var(--typography-heading-h4-font-size);

  /* Overriding Tailwind Defaults */
  --text-lg: var(--typography-body-lg-font-size);
  --text-base: var(--typography-body-md-font-size);
  --text-sm: var(--typography-body-sm-font-size);
  --text-xs: var(--typography-caption-default-font-size);

  /* Line Heights */
  --leading-h1: var(--typography-heading-h1-line-height);
  --leading-h2: var(--typography-heading-h2-line-height);
  --leading-base: var(--typography-body-md-line-height);
  --leading-tight: var(--typography-body-sm-line-height);

  /* Font Weights */
  --font-weight-bold: var(--typography-heading-h1-font-weight);
  --font-weight-semibold: var(--typography-heading-h3-font-weight);
  --font-weight-normal: var(--typography-body-md-font-weight);

  /* --- Spacing & Radii --- */
  --radius-sm: var(--radius-sm);
  --radius-md: var(--radius-md);
  --radius-lg: var(--radius-lg);
  --radius-xl: var(--radius-xl);
  --radius-full: var(--radius-full);

  /* --- Shadows --- */
  --shadow-sm: var(--shadow-sm);
  --shadow-md: var(--shadow-md);
  --shadow-lg: var(--shadow-lg);
}

/* Global Styles using the semantic variables */
@layer base {
  body {
    background-color: var(--background);
    color: var(--text-primary);
    font-family: var(--typography-font-sans);
    line-height: var(--typography-body-md-line-height);
    transition: background-color 0.2s, color 0.2s;
  }
}
